(function(a){'use strict';a(function(){a('[data-toggle="tooltip"]').tooltip(),a('[data-toggle="popover"]').popover(),a('.popover-dismiss').popover({trigger:'focus'})});function b(a){return a.offset().top+a.outerHeight()}a(function(){var c=a(".js-td-cover"),e,f,d;if(!c.length)return;e=b(c),f=a('.js-navbar-scroll').offset().top,d=Math.ceil(a('.js-navbar-scroll').outerHeight()),e-f<d&&a('.js-navbar-scroll').addClass('navbar-bg-onscroll'),a(window).on('scroll',function(){var f=a('.js-navbar-scroll').offset().top-a(window).scrollTop(),c=b(a('.js-td-cover')),e=a('.js-navbar-scroll').offset().top;c-e<d?a('.js-navbar-scroll').addClass('navbar-bg-onscroll'):(a('.js-navbar-scroll').removeClass('navbar-bg-onscroll'),a('.js-navbar-scroll').addClass('navbar-bg-onscroll--fade'))})})})(jQuery),function(a){'use strict';a(function(){var a=document.getElementsByTagName('main')[0],b;if(!a)return;b=a.querySelectorAll('h1, h2, h3, h4, h5, h6'),b.forEach(function(b){if(b.id){var a=document.createElement('a');a.style.visibility='hidden',a.setAttribute('aria-hidden','true'),a.innerHTML=' <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/></svg>',a.href='#'+b.id,b.insertAdjacentElement('beforeend',a),b.addEventListener('mouseenter',function(){a.style.visibility='initial'}),b.addEventListener('mouseleave',function(){a.style.visibility='hidden'})}})})}(jQuery);let lunrIndex,lunrResult,pagesIndex;const bigramTokeniser=(a,d)=>{if(a==null||a===void 0)return[];let c=a.toString().trim().toLowerCase(),b=[];for(let a=0;a<=c.length-2;a++){const e=lunr.utils.clone(d)||{};e.position=[a,a+2],e.index=b.length,b.push(new lunr.Token(c.slice(a,a+2),e))}return b},queryNgramSeparator=c=>{const a=c.toString().trim().toLowerCase(),b=[];for(let c=0;c<=a.length-2;c++)b.push(a.slice(c,c+2));return b.join(' ')},initLunr=()=>{$.getJSON('index.json').done(a=>{pagesIndex=a,lunrIndex=lunr(a=>{a.tokenizer=bigramTokeniser,a.pipeline.reset(),a.ref('ref'),a.field('title',{boost:10}),a.field('tags',{boost:10}),a.field('body'),a.metadataWhitelist=['position'];for(let b of pagesIndex)a.add(b)})}).fail((d,a,b)=>{const c=a+', '+b;console.error('Error getting Hugo index flie:',c)})},search=a=>(lunrResult=lunrIndex.search(queryNgramSeparator(a)),lunrResult.map(a=>pagesIndex.filter(b=>b.ref===a.ref)[0])),initUI=()=>{$('#searchBoxIcon').click(()=>{$('#searchBoxInput').val(''),$('#searchBoxInput').trigger('keyup'),$('#searchBoxInput').focus()}),$('#searchBoxInput').keyup(d=>{const b=$('#searchResults'),a=$(d.currentTarget).val(),c=$('#searchBoxIcon').attr('src');if(a.length?($('#searchBoxIcon').attr('src',c.replace('search.png','clear.png')),$('#searchBoxIcon').css('cursor','pointer')):($('#searchBoxIcon').attr('src',c.replace('clear.png','search.png')),$('#searchBoxIcon').css('cursor','default')),a.length<2){b.hide();return}renderResults(search(a)),b.show()}),$('#searchBoxInput').trigger('keyup'),$('#searchBoxInput').focus()},renderResults=c=>{const a=$('#searchResults'),d=$('#searchBoxInput').val(),b=100,e=10;if(a.empty(),!c.length){a.append('<div class="searchResultPage">No results found for query "'+d+'"</div>');return}c.slice(0,e).forEach((e,h)=>{const f=$('<div class="searchResultPage">'),c=lunrResult[h].matchData.metadata,g=c[Object.keys(c)[0]].body?c[Object.keys(c)[0]].body.position[0][0]:0,i=g-b/2>0?g-b/2:0;f.append('<a class="searchResultTitle" href="'+e.ref+'">'+e.title+'</a>'),f.append('<div class="searchResultBody">'+e.body.substr(i,b)+'</div>'),a.append(f),$('#searchResults').mark(d)})};initLunr(),$(()=>{initUI()})