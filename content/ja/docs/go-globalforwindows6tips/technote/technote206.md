+++
title = "問題：最後のアプリケーションを終了したときにGO-Globalセッションが閉じることができない"
description = ""
weight = 13
+++
GO-Globalアーキテクチャにより、1つのセッション内で複数のプロセスを実行できます。常に1つ以上のプロセスが実行されている必要があります。セッションの最後のプロセスが終了すると、GO-Globalセッションは閉じられます。

通常のプログラム実行中に、ほとんどのアプリケーションは子プロセスを作成して外部操作を実行します。これらのプロセスの一部、たとえばWindowsヘルプは、独自のユーザインターフェイスを提供し、不要になったときにユーザによって閉じられます。その他は、ユーザインターフェイスを表示しないが、独自に終了する前に固定操作を実行するヘルパープロセスです。アプリケーションには、作成する子プロセスを制御し、終了する前に終了するオプションもあります。

プロセスにユーザインターフェイスがなく、プロセス自体が終了せず、親プロセスがプロセスを直接終了しない場合、まれに問題が発生します。デフォルト構成では、これらのプロセスは、他のすべてのプロセスが終了したときにGOGlobalセッションが終了するのを防ぎます。残りのプロセスはセッションをアクティブに保ちますが、クライアントにはプロセスとそれが実行されているセッションを閉じるためのユーザインターフェイスがありません。

この問題を解決するために、GO-Globalホストは、システムプロセスとして実行する特定の実行可能ファイルの登録をサポートしています。セッションに残っているプロセスがシステムプロセスのみである場合、GO-Globalセッションは閉じます。ほとんどのアプリケーションでは、デフォルトの構成で十分です。終了する手段なしでプロセスが作成される特別な場合、残留プロセスの実行可能ファイルを登録すると、GO-Globalセッションを適切に閉じることができます。

{{% alert title="警告" color="danger" %}}
次の情報には、Windowsレジストリを開いて操作することが含まれます。ここで説明した以外の操作を実行すると、構成エラーが発生し、システムが使用できなくなる可能性があります。レジストリで作業するときは常に細心の注意を払ってください。
{{% /alert %}}

### システムプロセスを作成するファイルとして実行可能ファイルを登録する方法

1. レジストリエディタ(regedit.exe)を実行します。
2. `HKEY_LOCAL_MACHINE\Software\GraphOn\GO-Global\System\Processes`を参照します。
3. 登録する実行可能ファイルの名前(AGENTSVR.EXEなど)で **DWORD** エントリを作成します。
4. 実行可能ファイルへのフルパスが指定されている場合は新しいエントリの値を1に設定し、ベース名のみが指定されている場合は2に設定します(フルパスを含めると、同じ実行可能イメージの異なるバージョンを異なる方法で実行できます)。
5. レジストリエディタを閉じます。

この設定は、将来のセッションに加えて、現在のすべてのGO-Globalセッションに影響します。これには、すでに"残留"状態にあるセッションは含まれません。このようなセッションは、Admin Consoleから終了する必要があります。