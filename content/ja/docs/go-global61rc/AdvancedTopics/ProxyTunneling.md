---
title: "プロキシのトンネリング"
linkTitle: ""
weight: 23
type: "docs"
---
**HTTP CONNECT** メソッドを介したプロキシトンネリングでは、プロキシサーバを介してインターネットにアクセスするユーザは、次の条件が満たされたときにインターネット上のGO-Globalホストに接続できます。

* ユーザはWindowsコンピュータ上でGO-Globalクライアントを実行している。
* プロキシサーバのアドレスとポートが、クライアントコンピュータの[インターネットオプション]に保存されている。
* GO-Globalホストが設定されているポートへのHTTP CONNECTメソッドのトンネルで、Rapid-X Protocol(RXP)接続を受け入れられるように、プロキシサーバが設定されている。

### HTTP CONNECTメソッドによるプロキシのトンネリング

Windowsコンピュータ上のユーザがGO-Globalホストとの直接接続を確立できず、クライアントコンピュータが[インターネットオプション]でプロキシサーバを使用するように設定されている場合、クライアントは GO-GlobalホストとのHTTP CONNECTメソッドトンネルの確立を試みます。

1. クライアントコンピュータの **[インターネットオプション]** で指定されたアドレスとポートを使用してプロキシサーバに接続します。
2. プロキシサーバにCONNECT要求(CONNECT address:port HTTP/1.0)を送信します。addressとport は、それぞれGO-GlobalホストのIPアドレスと、ホストがRXP接続を受け入れるポート(デフォルトでは491)です。
3. プロキシサーバからの応答を読み取ります。
4. プロキシサーバの応答に、以下のように応答します。<br>
a.Basic認証が必要な場合、GO-Globalはユーザにユーザ名とパスワードの入力を求め、手順2を繰り返します。ここではユーザの資格情報を提供します。<br>
b.要求に失敗すると、以下のメッセージが表示されます。「Failed to connect to serverAddress via the proxy server at proxyAddress.(proxyAddressのプロキシサーバからserverAddressに接続できませんでした)[reason for failure (失敗の理由)]<br>
c. 要求に成功すると、GO-GlobalはRXP接続を初期化し、セッションを開始します。<br>

### ポート 443を使用してHTTP CONNECTメソッドトンネルを許可する方法

1. ポート443での接続を受け入れるようにGO-Globalホストを設定します。
2. ホストへのアクセスに使用するWebページでポート443を指定します。
3. 必要に応じて、ポート80(HTTP)およびポート443(HTTPS)でGO-Globalホストへの接続を許可するようにプロキシサーバを設定します。

GO-GlobalホストとそのWebページの設定を完了すると、上述の3つの要件を満たすユーザはホストに接続できます。ショートカットを使用するユーザは、コマンド行に -hp 引数と 443を追加する必要があります(例: "..\ggclient.exe" -h server -hp 443)。そうしなければ、これらのユーザはGO-Globalにログオンできません。

{{% alert title="参照" color="info" %}}
GO-Globalクライアントは、ポート443のトラフィックがHTTPSかどうかを確認するように設定されているプロキシサーバからGO-Globalホストに接続することはできません。

プロキシサーバでは、GO-Globalは基本認証のみをサポートします。
{{% /alert %}}